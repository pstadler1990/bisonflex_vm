#include <stdio.h>
#include "vm.h"

e_vm context;

int main() {
	/*
	let i = 1
	repeat
		i = i+1
		if(i >= 1000) then
			break
		endif
	forever
	*/
	uint8_t bytes_in[] = {
			0x14 ,	0x3F ,	0xF0 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00,
			0x10 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00,
			0x11 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00,
			0x14 ,	0x3F ,	0xF0 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00,
			0x30 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00,
			0x10 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00,
			0x11 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00,
			0x14 ,	0x40 ,	0x8F ,	0x40 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00,
			0x24 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00 ,	0x00,
			0x40 ,	0x00 ,	0x00 ,	0x00 ,	0x0B ,	0xFF ,	0xFF ,	0xFF ,	0xFF,
			0x41 ,	0x00 ,	0x00 ,	0x00 ,	0x0C ,	0xFF ,	0xFF ,	0xFF ,	0xFF,
			0x41 ,	0x00 ,	0x00 ,	0x00 ,	0x02 ,	0xFF ,	0xFF ,	0xFF ,	0xFF,
			0x00,
	};

	e_vm_init(&context);

	e_vm_parse_bytes(&context, bytes_in,sizeof(bytes_in) / sizeof(uint8_t));

	return 0;
}